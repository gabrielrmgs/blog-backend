# --- Configuração do Banco de Dados (vinda do .yml) ---
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=postgres
quarkus.datasource.password=postgres
quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/blog
quarkus.hibernate-orm.database.generation=drop-and-create
quarkus.hibernate-orm.log.sql=true
quarkus.hibernate-orm.dialect=org.hibernate.dialect.PostgreSQLDialect

# --- Configuração do CORS (vinda do .yml) ---
quarkus.http.cors=true
quarkus.http.cors.origins=http://localhost:3000,http://127.0.0.1:3000
quarkus.http.cors.headers=Content-Type,Accept,Authorization
quarkus.http.cors.methods=GET,POST,PUT,DELETE

# --- Configuração de Dev ---
%dev.quarkus.datasource.dev-ui.allow-sql=true

# --- Configuração de Segurança (que já fizemos) ---
quarkus.http.auth.permission.public.paths=/usuario/cadastro, /auth/login
quarkus.http.auth.permission.public.policy=permit
quarkus.http.auth.permission.default.paths=/*
quarkus.http.auth.permission.default.policy=deny

quarkus.http.auth.proactive=false
quarkus.http.auth.basic=false
quarkus.http.auth.form=false
quarkus.http.auth.jwt=true

# --- Security JPA (Desativado, como deve ser) ---
quarkus.security.jpa.enabled=false

# --- Configuração SmallRye JWT (com Chaves) ---
mp.jwt.verify.claims.groups=groups
mp.jwt.verify.issuer=https://gemsbiotec.com.br/issuer
mp.jwt.verify.publickey.location=META-INF/resources/public.pem
smallrye.jwt.sign.key.location=META-INF/resources/private.pem
# Adicione estas linhas para logs detalhados
quarkus.log.level=DEBUG
quarkus.log.category."io.quarkus.security".level=DEBUG
quarkus.log.category."io.smallrye.jwt".level=DEBUG
quarkus.log.category."org.wildfly.security".level=DEBUG
# org.wildfly.security é usado internamente pelo Quarkus Security
